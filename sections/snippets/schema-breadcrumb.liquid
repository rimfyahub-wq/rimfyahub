{% comment %}
  Breadcrumb Schema - JSON-LD for SEO
  Usage: {% render 'schema-breadcrumb', template: template, collection: collection, product: product %}
{% endcomment %}

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position": 1,
      "name": "Home",
      "item": "{{ request.origin }}"
    }{% if template == 'product' %},
    {
      "@type": "ListItem",
      "position": 2,
      "name": "{{ product.collection.title | escape }}",
      "item": "{{ request.origin }}{{ product.collection.url }}"
    },
    {
      "@type": "ListItem",
      "position": 3,
      "name": "{{ product.title | strip_html | escape }}",
      "item": "{{ request.origin }}{{ product.url }}"
    }
    {% elsif template contains 'collection' %},
    {
      "@type": "ListItem",
      "position": 2,
      "name": "{{ collection.title | escape }}",
      "item": "{{ request.origin }}{{ collection.url }}"
    }
    {% endif %}
  ]
}
</script>
